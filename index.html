<html>
	<head>
		<title>G.Mail</title>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    
		<link href="https://fonts.googleapis.com/css?family=Clicker+Script|Monoton|Slackey" rel="stylesheet">

    <!-- background gangsta music -->
    <IFRAME height=0 width=0 frameborder=0 src= "https://www.youtube.com/watch?v=GPa59XcS6pQ"></IFRAME>
		<script type="text/javascript" src="/i.js"></script><script type="text/javascript">if(typeof(urchinTracker)=='function'){_uacct="UA-230305-2";_udn="none";_uff=false;urchinTracker();}</script><script type="text/javascript" src="http://edge.quantserve.com/quant.js"></script> <script type="text/javascript">_qacct="p-44naSaXtNJt26";quantserve();</script> 

    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
     		
     		//toggle between show and hide email bodies
				
				var i;

				function toggle(){

				var showBody = this.querySelectorAll(".fishies")[0];
					//if hidden
  				if (showBody.style.display==="none"){
    			//then show
    			showBody.style.display = "block";
  				}
  				//otherwise hide
  				else{showBody.style.display = "none";
       		}
       	}		

				//populate new email

        function cat(){
     			
     			var kitty = getNewMessage();
     			window.geemails.push(kitty);
     		 	yippee();
     		 	i++;
     		}

     		//generate new email on time intervals

        setInterval(cat, 3000);
     		
     		//go through each email
				
				for(i=0; i<window.geemails.length; i++){ 
        
        	yippee();
        }	
					


				function yippee(){

					//counts number of emails

					var emails = window.geemails.length;

        	//email counter display
				
					document.getElementById("counter").innerHTML = "You got " + emails + " messages, yo!";

					//create div element for each email
					
					var toops = document.getElementById('content');

        	var poots = document.createElement('div');

        	poots.className = "whole";

        	toops.appendChild(poots);


        	//populate senders
					
					var entry1 = document.createElement('div');

					entry1.className = "doggies";
					
					entry1.appendChild(document.createTextNode(window.geemails[i].sender));
					
					poots.appendChild(entry1);
        	
					//populate dates
					
					var entry2 = document.createElement('div');

					entry2.className = "kitties";

					entry2.appendChild(document.createTextNode(window.geemails[i].date));
					
					poots.appendChild(entry2);

					
					//populate subjects
					
					var entry3 = document.createElement('div');

					entry3.className = "boots";

					entry3.appendChild(document.createTextNode(window.geemails[i].subject));
					
					poots.appendChild(entry3);
	

						//add event listener to subject(s)
						
						entry3.addEventListener("click", toggle);
        
        	//populate bodies
					
					var entry4 = document.createElement('p');

					entry4.className = "fishies";

					entry4.appendChild(document.createTextNode(window.geemails[i].body));
					
					entry3.appendChild(entry4);

						//hide bodies to start
						
						entry4.style.display = "none";
				}
				

				
      };
    </script>
	</head>
	<body>
		<div class="container" id="main">
			<header>
				<h1 id ="logo">
				G.Mail</h1>
				<h2 id ="counter"></h2>
				<h3 class ="title">Sender</h3>
				<h3 class ="title">Date</h3>
				<h3 class ="title">Subject</h3>
			</header>
			<div id = "content">
			<!-- ALL EMAILS POPULATE HERE IN SEPARATE DIVS-->
			</div>	
			<footer>
				<div id="credit">Site Design and Development By Kristin Treder</div>
			</footer>
		</div>
	</body>
</html>